Redisson：

分布式锁
https://github.com/redisson/redisson/wiki/8.-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%92%8C%E5%90%8C%E6%AD%A5%E5%99%A8


# RedLock

有这样一种分布式场景下的极端情况：在创建分布式锁到master节点后，slave节点同步之前，master节点挂掉，锁就自动释放了；新的master节点不会有刚创建的分布式锁；

红锁是为了解决这种Redis集群不可靠的极端场景的一种加锁策略：

1. 记录开始加锁的时间戳；
2. 对每一个master节点，进行加锁；
3. 当成功加锁超过半数，并且加锁时间 < 超时时间，则加锁成功；
4. 加锁成功后，统一设置锁的业务时长；
5. 无论成功失败，最后依次删除分布式锁；

红锁缺点：

实现比较复杂，又会增加响应时延，并发比较高的场景，比较鸡肋；

尽可能增加Redis集群主从间的可靠性，而不是使用红锁；
