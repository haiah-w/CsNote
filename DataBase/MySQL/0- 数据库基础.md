# MySQL8命令

# Ubuntu下MySQL8配置

配置文件在：/etc/mysql/mysql.conf.d

主要两个配置文件：

```shell
mysql.cnf
mysqld.cnf
```

## 用户相关

查看所有用户：

```shell
select host, user from mysql.user;
```

创建用户：

```shell
ALTER USER 'will'@'%' IDENTIFIED WITH mysql_native_password BY 'will';
-----------------------------------------------
create user 'will'@'%';
alter user 'will'@'%' identified by 'will';
```

授权用户所有权限：

```shell
GRANT ALL PRIVILEGES ON *.* TO "user"@"ip";
```

授权用户指定权限：

```shell
GRANT SELECT ON *.* TO "用户名"@"IP"
GRANT INSERT ON *.* TO "用户名"@"IP"
GRANT UPDATE ON *.* TO "用户名"@"IP"
GRANT CREATE ON *.* TO "用户名"@"IP"
```

# 三范式

范式：关系型数据库设计的标准，规范；

目的：

- 降低数据的冗余性，尽量让每个数据只出现一次；
- 保证数据的一致性；

### 第一范式

- 原则：保证列的**不可再分**；

比如：

```
id        item
001        5台电脑
```

上面的数据就出现了，item数据是可以再分的；

```
id        item    mount
001        电脑        5
```

### 第二范式

- 表必须有主键
- 除了主键字段，其余字段必须完全依赖于主键，不能出现部分依赖；

比如：

分数依赖于：学号，课程；

不依赖于系，课程；

```
学号        姓名        系        课程        分数        
101122     李四        经济系        高等数学    95
```

应该分离为两张表：

```
学号        课程        分数        
101122     高等数学    95

学号        姓名        系            
101122     李四        经济系    
```

### 第三范式

- 满足第二范式为前提
- 不能出现传递依赖：非主键A依赖非主键B，非主键B依赖主键（×）

比如：

很明显：系，系主任是相关的；系跟学生的关系，只是系；

系-->系主任

学号-->姓名--->系

```
学号        姓名        系        系主任
101122     李四        经济系        张三
```

应当分割开来：

```
学号        姓名        系
101122     李四        经济系

系        系主任
经济系        张三
```
